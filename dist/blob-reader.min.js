!function(i){"use strict";function t(i){return this instanceof t?(this.blob=i,this.position=0,this.queue=[],void(this._pendingTask=!1)):new t(i)}t.prototype._invokeNext=function(){var i=this.queue.shift();if(i){var t=new FileReader;this._pendingTask=!0,t.onload=function(t){var n=t.target.result;this._pendingTask=!1,this._invokeNext(),i.cb(n)}.bind(this),t.onerror=function(){throw new Error("Error while reading the blob")},t.readAsBinaryString(),this.position+=i.count}},t.prototype.read=function(i,t){return this.queue.push({count:i,cb:t}),this._pendingTask||this._invokeNext(),this},i.BlobReader=t}(window);